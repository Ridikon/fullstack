<form
	class="card"
	[formGroup]="form"
	(ngSubmit)="onSubmit()">

	<div class="card-content">
		<span class="card-title">Створити акаунт</span>
		<div class="input-field">
			<input
				formControlName="name"
				id="name"
				type="text"
				[ngClass]="{'invalid': form.get('name').invalid && form.get('name').touched}">
			<label for="name">Назва організації:</label>
			<span class="helper-text red-text"
				  *ngIf="form.get('name').invalid && form.get('name').touched">
				<span *ngIf="form.get('name').errors['required']">Це поле не повинно бути порожнім.</span>
			</span>
		</div>
		<div class="input-field">
			<input
				formControlName="email"
				id="email"
				type="email"
				[ngClass]="{'invalid': form.get('email').invalid && form.get('email').touched}">
			<label for="email">Email:</label>
			<span class="helper-text red-text"
				  *ngIf="form.get('email').invalid && form.get('email').touched">
				<span *ngIf="form.get('email').errors['required']">Поле email не повинно бути порожнім.</span>
				<span *ngIf="form.get('email').errors['email']">Введіть коректний email.</span>
			</span>
		</div>
		<div class="input-field">
			<input
				formControlName="password"
				id="password"
				type="password"
				[ngClass]="{'invalid': form.get('password').invalid && form.get('password').touched}">
			<label for="password">Пароль:</label>
			<span
				class="helper-text red-text"
				*ngIf="form.get('password').invalid && form.get('password').touched">
				<span *ngIf="form.get('password').errors['required']">Поле пароля не повинно бути порожнім.</span>
				<span *ngIf="form.get('password').errors['minlength'] && form.get('password').errors['minlength']['requiredLength']">
					Пароль повинен бути рівним або більшим ніж {{form.get('password').errors['minlength']['requiredLength']}} символів.
					Зараз {{form.get('password').errors['minlength']['actualLength']}}.
				</span>
			</span>
		</div>
	</div>
	<div class="card-action">
		<button type="submit"
				class="modal-action btn waves-effect"
				[disabled]="form.invalid || form.disabled">
			Створити
		</button>

		<button type="button"
				class="modal-action btn waves-effect"
				(click)="wsAction()"
		>
			New user
		</button>
	</div>
</form>

<app-loader *ngIf="loader"></app-loader>

